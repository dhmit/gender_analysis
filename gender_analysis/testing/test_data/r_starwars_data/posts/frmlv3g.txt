That's a deleted scene from TLJ. Finn tells a bunch of Troopers that Phasma just gave up the info and then they doubt her for a second, and she promptly shoots them all which gives Finn time to escape.

So they had that idea and filmed it, they just cut it.