The visions occurred because he wasn't allowed to have a wife and family, which caused him to go dark and his wife dying of grief. 

It was a self fulfilling prophecy caused by the strict rigedity of the Jedi code.